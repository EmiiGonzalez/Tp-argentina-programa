package modelo;

import exepciones.ErrorEnCargaDeDatos;
import lombok.Data;

@Data
public class Partido{
	private Equipo equipo1;
	private Equipo equipo2;
	private String ronda = "";
	private String participante = "";
	
	
	public Partido() {
	}
	public Partido(Equipo equipo1, Equipo equipo2, String ronda) throws ErrorEnCargaDeDatos  {
		this.equipo1 = equipo1;
		this.equipo2 = equipo2;
		this.ronda = ronda;
		
	}
	
	public int getGanadorResultado() {
	    int ganador = 0;
	    int golesEquipo1 = this.getEquipo1().getGoles();
	    int golesEquipo2 = this.getEquipo2().getGoles();
	    String aciertosEquipo1 = this.getEquipo1().getAciertos();
	    String aciertosEquipo2 = this.getEquipo2().getAciertos();
	    
	    /*	
	     	con switch e integer compare, comparo el valor del equipo1 con el del equipo2 (equipo1 - equipo2) 
	     	si el valor es negativo gana el equipo2, si es positivo el equipo1, si es 0 empate
	    */
	    if (aciertosEquipo1 == null && aciertosEquipo2 == null) {		//condicional por si se llegaran a mesclar los datos
	    switch (Integer.compare(golesEquipo1, golesEquipo2)) {			//dentro del switch case, comparo ambos enteros
	        case -1:
	            //si el equipo 2 es el ganador retorno 1
	            ganador = 3;
	            break;
	        case 0:
	            //si es empate, retorno 0.5
	            ganador = 2;
	            break;
	        case 1:
	            //si el equipo 1 es el ganador retorno 0
	            ganador = 1;
	            break;
	    	}
	    }
	    
	    return ganador;
	}
	
	public int getGanadorPronostico() throws ErrorEnCargaDeDatos {
	    String aciertosEquipo1 = this.getEquipo1().getAciertos();
	    String aciertosEquipo2 = this.getEquipo2().getAciertos();
	    
	    if (aciertosEquipo1 != null && aciertosEquipo2 != null) {
	    
		    if (aciertosEquipo1.equals("X")) {
		        return 1;
		    } else if (aciertosEquipo2.equals("X")) {
		        return 3;
		    } else if (aciertosEquipo1.equals(" ") && aciertosEquipo2.equals(" ")) {
		        return 2;
		    } else {
		    	throw new ErrorEnCargaDeDatos("Error en la carga de datos de pronostico \nse esperaba una X");
		    }
	    }	
	    return 0;
	}
	
	
	
}

